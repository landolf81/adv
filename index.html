<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>선남농협 영업안내</title>

  <!-- Fonts -->
  <link rel="stylesheet" as="style" crossorigin
    href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Pretendard', '-apple-system', 'sans-serif'],
          },
          colors: {
            'nh-green': '#009743',
            'nh-light-green': '#E8F5E9',
            'nh-blue': '#005bac',
          },
          boxShadow: {
            'card': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
            'floating': '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)',
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #f5f5f5;
    }

    .tap-highlight-transparent {
      -webkit-tap-highlight-color: transparent;
    }

    /* Closed business styling */
    .business-closed {
      opacity: 0.5;
      filter: grayscale(100%);
    }

    .business-closed .business-name,
    .business-closed .business-desc {
      color: #9ca3af;
    }

    .business-open-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
    }

    .business-open {
      background-color: #009743;
      color: white;
    }

    .business-closed-badge {
      background-color: #9ca3af;
      color: white;
    }

    /* Modal styles */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 16px;
      padding: 24px;
      width: 90%;
      max-width: 320px;
      animation: modalSlide 0.3s ease;
    }

    @keyframes modalSlide {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e5e7eb;
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      background: none;
      border: none;
      font-size: 24px;
      color: #6b7280;
      cursor: pointer;
    }
  </style>
</head>

<body class="antialiased text-gray-800 pb-24">

  <!-- Header -->
  <header class="bg-white sticky top-0 z-50 shadow-sm">
    <div class="max-w-md mx-auto px-5 py-4 flex justify-between items-center">
      <a href="index.html" class="flex items-center">
        <img src="snlogo.png" alt="선남농협" class="h-10 w-auto object-contain">
      </a>
      <a href="tel:054-932-1191"
        class="bg-nh-green text-white text-sm px-3 py-1.5 rounded-full font-medium active:bg-green-700 transition-colors">
        고객센터
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-md mx-auto px-5 pt-6">

    <!-- Welcome Message -->
    <div class="mb-6">
      <h2 class="text-2xl font-bold text-gray-900 mb-2">어디를 찾으시나요?</h2>
      <p class="text-gray-500 text-sm">원하시는 사업장을 선택하시면<br>상세 정보를 확인하실 수 있습니다.</p>
    </div>

    <!-- Business Status Legend -->
    <div class="flex items-center gap-4 mb-6 text-xs text-gray-500">
      <div class="flex items-center gap-1.5">
        <div class="w-2 h-2 bg-nh-green rounded-full"></div>
        <span>영업중</span>
      </div>
      <div class="flex items-center gap-1.5">
        <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
        <span>휴업</span>
      </div>
    </div>

    <!-- 본점 섹션 -->
    <div class="mb-8">
      <!-- 본점 헤더 카드 -->
      <div data-business="headquarters_header"
        class="business-card bg-gradient-to-r from-nh-green to-green-600 p-5 rounded-2xl shadow-card mb-3 border border-green-500 relative">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-white shrink-0">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
              </path>
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="font-bold text-white text-lg business-name">본점</h3>
            <p class="text-xs text-green-100 mt-0.5">선남농협 중앙지점</p>
          </div>
        </div>
      </div>
      
      <!-- 본점 상호금융 (긴 카드) -->
      <div onclick="showModal('headquarters')" data-business="headquarters"
        class="business-card bg-white p-5 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex items-center gap-4 mb-3 border border-gray-100 relative cursor-pointer">
        <div class="w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600 shrink-0">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
            </path>
          </svg>
        </div>
        <div class="flex-1">
          <h4 class="font-bold text-gray-900 business-name">상호금융</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">예금, 대출, 보험, 카드</p>
        </div>
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </div>

      <!-- 본점 사업장 그리드 (2 columns x 3 rows) -->
      <div class="grid grid-cols-2 gap-3">
        <!-- 하나로마트 -->
        <div onclick="showModal('mart')" data-business="mart"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-green-50 rounded-full flex items-center justify-center mb-2 text-nh-green">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">하나로마트</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">농산물, 생활용품 판매</p>
        </div>

        <!-- 영농자재센터 -->
        <div onclick="showModal('material')" data-business="material"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-yellow-50 rounded-full flex items-center justify-center mb-2 text-yellow-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">영농자재센터</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">농약, 비료, 자재</p>
        </div>

        <!-- 공판장 -->
        <div onclick="showModal('auction')" data-business="auction"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center mb-2 text-red-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">공판장</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">경매</p>
        </div>

        <!-- 클린주유소 -->
        <div onclick="showModal('gas')" data-business="gas"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-orange-50 rounded-full flex items-center justify-center mb-2 text-orange-500">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">클린주유소</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">면세유, 유류, 윤활유</p>
        </div>

        <!-- APC (유통센터) -->
        <div onclick="showModal('apc')" data-business="apc"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-purple-50 rounded-full flex items-center justify-center mb-2 text-purple-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">APC</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">농산물 수탁, 선별, 출하</p>
        </div>

        <!-- 사업장 외 업무 (긴 카드) -->
        <div onclick="showModal('other')" data-business="other_business"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-2 text-gray-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">사업장 외 업무</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">기타 업무 문의</p>
        </div>
      </div>
    </div>

    <!-- 지점 섹션 -->
    <div class="mb-8">
      <!-- 지점 헤더 카드 -->
      <div data-business="branch_header"
        class="business-card bg-gradient-to-r from-indigo-500 to-indigo-600 p-5 rounded-2xl shadow-card mb-3 border border-indigo-400 relative">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-white shrink-0">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path>
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="font-bold text-white text-lg business-name">지점</h3>
            <p class="text-xs text-indigo-100 mt-0.5">도흥지점 및 관련 사업장</p>
          </div>
        </div>
      </div>
      
      <!-- 도흥지점 - 상단 긴 카드 -->
      <div onclick="showModal('doheung')" data-business="doheung"
        class="business-card bg-white p-5 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex items-center gap-4 mb-3 border border-gray-100 relative cursor-pointer">
        <div class="w-12 h-12 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600 shrink-0">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path>
          </svg>
        </div>
        <div class="flex-1">
          <h4 class="font-bold text-gray-900 business-name">도흥지점</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">예금, 대출, 보험, 카드</p>
        </div>
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </div>
      
      <!-- 도흥지점 사업장 (2 cards) -->
      <div class="grid grid-cols-2 gap-3">
        <!-- 하나로마트 -->
        <div onclick="showModal('doheung_mart')" data-business="doheung_mart"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-green-50 rounded-full flex items-center justify-center mb-2 text-nh-green">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">하나로마트</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">농산물, 생활용품 판매</p>
        </div>

        <!-- 자재백화점 -->
        <div onclick="showModal('material_store')" data-business="material_store"
          class="business-card bg-white p-4 rounded-2xl shadow-card active:scale-[0.98] transition-transform tap-highlight-transparent flex flex-col items-center justify-center text-center h-32 border border-gray-100 relative cursor-pointer">
          <div class="w-10 h-10 bg-amber-50 rounded-full flex items-center justify-center mb-2 text-amber-700">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4">
              </path>
            </svg>
          </div>
          <h4 class="font-bold text-gray-900 text-sm business-name">자재백화점</h4>
          <p class="text-xs text-gray-500 mt-0.5 business-desc">농약, 비료, 자재</p>
        </div>
      </div>
    </div>

    <!-- Quick Contact -->
    <div class="mt-8 bg-nh-light-green rounded-2xl p-6 flex flex-col items-center text-center">
      <h3 class="font-bold text-nh-green text-lg mb-1">통합 고객센터</h3>
      <p class="text-gray-600 text-sm mb-4">평일 09:00 - 16:30 (공휴일 휬무)</p>
      <a href="tel:054-932-1191"
        class="w-full bg-nh-green text-white font-bold py-3.5 rounded-xl shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
          </path>
        </svg>
        전화 연결하기
      </a>
    </div>

  </main>

  <footer class="text-center py-8 text-gray-400 text-xs">
    <p>© 2026 선남농협. All rights reserved.</p>
  </footer>

  <!-- Modal -->
  <div id="businessModal" class="modal-overlay" onclick="closeModal(event)">
    <div class="modal-content relative" onclick="event.stopPropagation()">
      <button class="modal-close" onclick="closeModal()">&times;</button>
      <div class="modal-header">
        <div id="modalIcon" class="w-12 h-12 rounded-full flex items-center justify-center shrink-0"></div>
        <div>
          <h3 id="modalTitle" class="font-bold text-gray-900 text-lg"></h3>
          <p id="modalSubtitle" class="text-xs text-gray-400"></p>
        </div>
      </div>
      <div class="space-y-4">
        <div>
          <p class="text-sm font-medium text-gray-700 mb-1">업무 내용</p>
          <p id="modalDesc" class="text-sm text-gray-600"></p>
        </div>
        <div>
          <p class="text-sm font-medium text-gray-700 mb-1">영업 시간</p>
          <p id="modalHours" class="text-sm text-gray-600"></p>
        </div>
        <div id="modalContact" class="hidden">
          <p class="text-sm font-medium text-gray-700 mb-1">연락처</p>
          <a id="modalPhone" href="" class="text-sm text-nh-green font-medium"></a>
        </div>
      </div>
      <div class="mt-6">
        <a id="modalLink" href="" class="w-full bg-nh-green text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 active:scale-95 transition-transform">
          <span>상세 정보 보기</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Business Hours Script -->
  <script>
    // Business data
    const businessData = {
      headquarters: {
        name: '상호금융 (본점)',
        subtitle: '본점',
        desc: '예금, 대출, 보험, 카드',
        hours: '평일 09:00-16:30\n(공휴일 휬무)',
        phone: '054-932-1191',
        link: 'headquarters.html',
        iconColor: 'bg-blue-50 text-blue-600'
      },
      mart: {
        name: '하나로마트 (본점)',
        subtitle: '본점',
        desc: '농산물, 생활용품 판매',
        hours: '매일 09:00-19:00\n(휴일 동일)',
        phone: null,
        link: 'mart.html',
        iconColor: 'bg-green-50 text-nh-green'
      },
      material: {
        name: '영농자재센터',
        subtitle: '본점',
        desc: '농약, 비료, 자재',
        hours: '평일 09:00-18:00\n토요일/공휴일 09:00-12:00\n일요일 휬무',
        phone: null,
        link: 'material.html',
        iconColor: 'bg-yellow-50 text-yellow-600'
      },
      auction: {
        name: '공판장',
        subtitle: '본점',
        desc: '경매',
        hours: '평일 09:00-17:00\n2월 22일부터 일요일도 경매\n(경매시각 13시)',
        phone: null,
        link: 'auction.html',
        iconColor: 'bg-red-50 text-red-600'
      },
      gas: {
        name: '클린주유소',
        subtitle: '본점',
        desc: '면세유, 유류, 윤활유',
        hours: '평일 07:00-19:00\n주말/공휴일 08:00-18:00',
        phone: null,
        link: 'gas.html',
        iconColor: 'bg-orange-50 text-orange-500'
      },
      apc: {
        name: 'APC',
        subtitle: '본점',
        desc: '농산물 수탁, 선별, 출하',
        hours: '09:00-18:00',
        phone: null,
        link: 'apc.html',
        iconColor: 'bg-purple-50 text-purple-600'
      },
      other: {
        name: '사업장 외 업무',
        subtitle: '본점',
        desc: '기타 업무 문의',
        hours: '평일 09:00-16:30\n(공휴일 휬무)',
        phone: '054-932-1191',
        link: '#',
        iconColor: 'bg-gray-100 text-gray-600'
      },
      doheung: {
        name: '상호금융 (도흥지점)',
        subtitle: '도흥지점',
        desc: '예금, 대출, 보험, 카드',
        hours: '평일 09:00-16:30\n(공휴일 휬무)',
        phone: null,
        link: 'doheung.html',
        iconColor: 'bg-indigo-50 text-indigo-600'
      },
      doheung_mart: {
        name: '하나로마트 (도흥지점)',
        subtitle: '도흥지점',
        desc: '농산물, 생활용품 판매',
        hours: '평일 09:00-18:00\n휴일 09:00-12:00',
        phone: null,
        link: '#',
        iconColor: 'bg-green-50 text-nh-green'
      },
      material_store: {
        name: '자재백화점',
        subtitle: '도흥지점',
        desc: '농약, 비료, 자재',
        hours: '평일 09:00-18:00\n휴일 09:00-12:00',
        phone: null,
        link: 'material_store.html',
        iconColor: 'bg-amber-50 text-amber-700'
      }
    };

    function showModal(businessKey) {
      const data = businessData[businessKey];
      if (!data) return;

      document.getElementById('modalTitle').textContent = data.name;
      document.getElementById('modalSubtitle').textContent = data.subtitle;
      document.getElementById('modalDesc').textContent = data.desc;
      document.getElementById('modalHours').innerHTML = data.hours.replace(/\n/g, '<br>');
      document.getElementById('modalLink').href = data.link;

      // Icon color
      const iconDiv = document.getElementById('modalIcon');
      iconDiv.className = `w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${data.iconColor}`;
      iconDiv.innerHTML = `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>`;

      // Phone
      const contactDiv = document.getElementById('modalContact');
      if (data.phone) {
        contactDiv.classList.remove('hidden');
        document.getElementById('modalPhone').textContent = data.phone;
        document.getElementById('modalPhone').href = `tel:${data.phone}`;
      } else {
        contactDiv.classList.add('hidden');
      }

      document.getElementById('businessModal').classList.add('active');
    }

    function closeModal(event) {
      if (!event || event.target.id === 'businessModal') {
        document.getElementById('businessModal').classList.remove('active');
      }
    }

    // Check if date is a holiday (simplified)
    function isHoliday(date) {
      return date.getDay() === 0;
    }

    function isSunday(date) {
      return date.getDay() === 0;
    }

    function isSaturday(date) {
      return date.getDay() === 6;
    }

    // Business hours configuration for status check
    const businessHours = {
      headquarters: { days: [1, 2, 3, 4, 5], hours: { start: 9, end: 16.5 } },
      mart: { days: [0, 1, 2, 3, 4, 5, 6], hours: { start: 9, end: 19 } },
      material: { 
        days: [1, 2, 3, 4, 5, 6],
        hours: function(date) {
          if (isSunday(date)) return null;
          if (isSaturday(date) || isHoliday(date)) {
            return { start: 9, end: 12 };
          }
          return { start: 9, end: 18 };
        }
      },
      auction: { days: [1, 2, 3, 4, 5, 6], hours: { start: 9, end: 17 } },
      gas: { 
        days: [0, 1, 2, 3, 4, 5, 6], 
        hours: function(date) {
          const day = date.getDay();
          if (day === 0 || day === 6 || isHoliday(date)) {
            return { start: 8, end: 18 };
          }
          return { start: 7, end: 19 };
        }
      },
      apc: { days: [1, 2, 3, 4, 5, 6], hours: { start: 9, end: 18 } },
      other_business: { days: [1, 2, 3, 4, 5], hours: { start: 9, end: 16.5 } },
      doheung: { days: [1, 2, 3, 4, 5], hours: { start: 9, end: 16.5 } },
      doheung_mart: { 
        days: [0, 1, 2, 3, 4, 5, 6], 
        hours: function(date) {
          if (isHoliday(date)) {
            return { start: 9, end: 12 };
          }
          return { start: 9, end: 18 };
        }
      },
      material_store: { 
        days: [0, 1, 2, 3, 4, 5, 6], 
        hours: function(date) {
          if (isHoliday(date)) {
            return { start: 9, end: 12 };
          }
          return { start: 9, end: 18 };
        }
      }
    };

    function checkBusinessStatus() {
      const now = new Date();
      const today = now.getDay();
      const currentHour = now.getHours() + now.getMinutes() / 60;

      document.querySelectorAll('[data-business]').forEach(card => {
        const businessKey = card.getAttribute('data-business');
        const config = businessHours[businessKey];
        
        if (!config) return;

        let hours = config.hours;
        if (typeof hours === 'function') {
          hours = hours(now);
        }

        const isOpenDay = config.days.includes(today);
        let isOpen = false;

        if (isOpenDay && hours !== null) {
          isOpen = currentHour >= hours.start && currentHour < hours.end;
        }

        const existingBadge = card.querySelector('.business-open-badge, .business-closed-badge');
        if (existingBadge) {
          existingBadge.remove();
        }
        card.classList.remove('business-closed');

        const badge = document.createElement('div');
        badge.className = 'business-open-badge';
        
        if (isOpen) {
          badge.classList.add('business-open');
          badge.textContent = '영업중';
        } else {
          badge.classList.add('business-closed-badge');
          badge.textContent = '휴업';
          card.classList.add('business-closed');
        }
        
        card.appendChild(badge);
      });
    }

    checkBusinessStatus();
    setInterval(checkBusinessStatus, 60000);
  </script>

</body>

</html>
